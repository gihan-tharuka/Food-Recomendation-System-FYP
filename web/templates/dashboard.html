{% extends "base.html" %}

{% block title %}üè† Dashboard - Food Recommendation System{% endblock %}

{% block content %}
<!-- Welcome Header -->
<div class="bg-white rounded-2xl shadow-xl p-8 mb-8 border-l-8 border-food-green">
    <div class="flex items-center justify-between">
        <div>
            <h2 class="text-4xl font-bold text-gray-800 mb-2">Welcome to Your Dashboard</h2>
            <p class="text-lg text-gray-600">Hello, <span id="dashboard-user-name" class="font-semibold text-food-green"></span>! Choose what you'd like to do today.</p>
        </div>
        <div class="bg-food-green bg-opacity-20 rounded-full p-4">
            <i data-lucide="layout-dashboard" class="w-12 h-12 text-food-green"></i>
        </div>
    </div>
</div>

<!-- Quick Actions Section -->
<div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 mb-8 border border-green-200">
    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
        <i data-lucide="zap" class="w-6 h-6 mr-2 text-food-orange"></i>
        Quick Actions
    </h3>
    <div class="grid md:grid-cols-3 gap-4">
        <a href="/recommend" class="bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow flex items-center space-x-3 hover:bg-green-50">
            <div class="bg-food-green bg-opacity-20 rounded-lg p-2">
                <i data-lucide="heart" class="w-6 h-6 text-food-green"></i>
            </div>
            <div>
                <h4 class="font-semibold text-gray-800">Get Recommendations</h4>
                <p class="text-sm text-gray-600">Find your perfect meal</p>
            </div>
        </a>
        <a href="/predict" class="bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow flex items-center space-x-3 hover:bg-blue-50">
            <div class="bg-food-blue bg-opacity-20 rounded-lg p-2">
                <i data-lucide="crystal-ball" class="w-6 h-6 text-food-blue"></i>
            </div>
            <div>
                <h4 class="font-semibold text-gray-800">Generate Predictions</h4>
                <p class="text-sm text-gray-600">Predict food categories</p>
            </div>
        </a>
        <a href="/info" class="bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow flex items-center space-x-3 hover:bg-yellow-50">
            <div class="bg-food-yellow bg-opacity-20 rounded-lg p-2">
                <i data-lucide="info" class="w-6 h-6 text-yellow-600"></i>
            </div>
            <div>
                <h4 class="font-semibold text-gray-800">System Info</h4>
                <p class="text-sm text-gray-600">View system status</p>
            </div>
        </a>
    </div>
</div>

<!-- Main Action Cards -->
<div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <!-- Train Models -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-food-orange group transform hover:-translate-y-1">
        <a href="/train" class="block p-6 text-center h-full">
            <div class="bg-food-orange bg-opacity-20 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4 group-hover:bg-opacity-30 transition-all duration-300">
                <i data-lucide="zap" class="w-10 h-10 text-food-orange group-hover:scale-110 transition-transform"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-3">Train Models</h3>
            <p class="text-gray-600 text-sm mb-4">Train AI models with your food data to improve predictions and recommendations</p>
            <div class="flex items-center justify-center text-food-orange font-semibold group-hover:text-orange-600">
                <span class="mr-2">Get Started</span>
                <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
            </div>
        </a>
    </div>

    <!-- Predict Items -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-food-blue group transform hover:-translate-y-1">
        <a href="/predict" class="block p-6 text-center h-full">
            <div class="bg-food-blue bg-opacity-20 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4 group-hover:bg-opacity-30 transition-all duration-300">
                <i data-lucide="crystal-ball" class="w-10 h-10 text-food-blue group-hover:scale-110 transition-transform"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-3">Generate Predictions</h3>
            <p class="text-gray-600 text-sm mb-4">Predict food categories, cuisine types, and tags using trained AI models</p>
            <div class="flex items-center justify-center text-food-blue font-semibold group-hover:text-blue-600">
                <span class="mr-2">Predict Now</span>
                <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
            </div>
        </a>
    </div>

    <!-- Get Recommendations -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-food-green group transform hover:-translate-y-1">
        <a href="/recommend" class="block p-6 text-center h-full">
            <div class="bg-food-green bg-opacity-20 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4 group-hover:bg-opacity-30 transition-all duration-300">
                <i data-lucide="heart" class="w-10 h-10 text-food-green group-hover:scale-110 transition-transform"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-3">Get Recommendations</h3>
            <p class="text-gray-600 text-sm mb-4">Receive personalized food suggestions based on your preferences and budget</p>
            <div class="flex items-center justify-center text-food-green font-semibold group-hover:text-green-600">
                <span class="mr-2">Recommend</span>
                <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
            </div>
        </a>
    </div>

    <!-- View Info -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-food-yellow group transform hover:-translate-y-1">
        <a href="/info" class="block p-6 text-center h-full">
            <div class="bg-food-yellow bg-opacity-20 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4 group-hover:bg-opacity-30 transition-all duration-300">
                <i data-lucide="info" class="w-10 h-10 text-yellow-600 group-hover:scale-110 transition-transform"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-3">System Info</h3>
            <p class="text-gray-600 text-sm mb-4">View model status, system statistics, and performance metrics</p>
            <div class="flex items-center justify-center text-yellow-600 font-semibold group-hover:text-yellow-700">
                <span class="mr-2">View Details</span>
                <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
            </div>
        </a>
    </div>
</div>

<!-- Recent Activity / Tips Section -->
<div class="grid md:grid-cols-2 gap-6">
    <!-- Tips & Guides -->
    <div class="bg-white rounded-xl shadow-lg p-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i data-lucide="lightbulb" class="w-6 h-6 mr-2 text-food-yellow"></i>
            Tips & Guides
        </h3>
        <div class="space-y-3">
            <div class="flex items-start space-x-3 p-3 bg-gray-50 rounded-lg">
                <i data-lucide="check-circle" class="w-5 h-5 text-food-green mt-0.5"></i>
                <div>
                    <h4 class="font-semibold text-gray-800 text-sm">Train Models First</h4>
                    <p class="text-gray-600 text-xs">Train your AI models before generating predictions for better accuracy.</p>
                </div>
            </div>
            <div class="flex items-start space-x-3 p-3 bg-gray-50 rounded-lg">
                <i data-lucide="check-circle" class="w-5 h-5 text-food-green mt-0.5"></i>
                <div>
                    <h4 class="font-semibold text-gray-800 text-sm">Set Your Budget</h4>
                    <p class="text-gray-600 text-xs">Include your budget in recommendations for better meal planning.</p>
                </div>
            </div>
            <div class="flex items-start space-x-3 p-3 bg-gray-50 rounded-lg">
                <i data-lucide="check-circle" class="w-5 h-5 text-food-green mt-0.5"></i>
                <div>
                    <h4 class="font-semibold text-gray-800 text-sm">Rate Your Meals</h4>
                    <p class="text-gray-600 text-xs">Rate recommended items to improve future suggestions.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Stats -->
    <div class="bg-white rounded-xl shadow-lg p-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i data-lucide="bar-chart-3" class="w-6 h-6 mr-2 text-food-blue"></i>
            Quick Stats
        </h3>
        <div class="space-y-4">
            <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                <div class="flex items-center space-x-2">
                    <i data-lucide="database" class="w-5 h-5 text-food-green"></i>
                    <span class="text-gray-700 font-medium">Models Status</span>
                </div>
                <span class="text-food-green font-semibold">Ready</span>
            </div>
            <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                <div class="flex items-center space-x-2">
                    <i data-lucide="users" class="w-5 h-5 text-food-blue"></i>
                    <span class="text-gray-700 font-medium">User Profile</span>
                </div>
                <span class="text-food-blue font-semibold">Active</span>
            </div>
            <div class="flex items-center justify-between p-3 bg-orange-50 rounded-lg">
                <div class="flex items-center space-x-2">
                    <i data-lucide="trending-up" class="w-5 h-5 text-food-orange"></i>
                    <span class="text-gray-700 font-medium">Recommendations</span>
                </div>
                <span class="text-food-orange font-semibold">Available</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Dashboard specific JavaScript
document.addEventListener('DOMContentLoaded', function() {
    checkAuthenticationForDashboard();
});

function checkAuthenticationForDashboard() {
    const currentUser = sessionStorage.getItem('currentUser');
    const userNameDisplay = document.getElementById('dashboard-user-name');
    
    if (currentUser) {
        const user = JSON.parse(currentUser);
        userNameDisplay.textContent = user.name;
    } else {
        // Redirect to login if not authenticated
        window.location.href = '/login';
    }
}
</script>
{% endblock %}
